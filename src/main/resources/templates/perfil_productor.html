<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/" xmlns:sec="https://www.thymeleaf.org/extras/spring-security" data-bs-theme="light">
    <head  th:replace = "/fragments/head :: head"> </head>
    <header> 
        <nav th:replace= "/fragments/navbar :: nav"></nav>
    </header>
    <body>
        

        <section >
            <div class="container py-5">

                <form th:action="@{/productor/perfil/__${productor.id}__}" method="POST"  enctype="multipart/form-data" class="row">

                    <div class="col-lg-4">
                        <div class="card mb-4">
                            <div class="card-body text-center">

                                <img style="width: 150px; border-radius: 20px;" id="image-preview"
                                     th:src="@{/imagen/perfil/__${productor.id}__}"
                                     alt="preview-profile">
                                <h5 class="my-3" th:text="${productor.nombreProductor}"></h5>

                                <label for="file-input" class="custom-file-input">
                                    Cambiar foto de perfil
                                    <input name="archivo" class="form-control" type="file" id="file-input">
                                </label>
                            </div>
                        </div>

                      
                        </div>
                
                  
                    <div class="col-lg-8">
                        <div class="card mb-4">
                            <div class="card-body">

                                <div class="row align-items-center">
                                    <div class="col-sm-3">
                                        <label>Nombre y apellido</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control border-0" name="nombre" th:value="${productor.nombreProductor}">
                                    </div>
                                    <div class="col-sm-1">
                                     <i class="fa-solid fa-pen"></i>
                                    </div>
                                </div>
                                <hr>
                                <div class="row align-items-center">
                                    <div class="col-sm-3">
                                        <label>Email</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <input class="form-control border-0"th:value="${productor.email}" readonly>
                                    </div>
                                </div>
                                <hr>
                                <div class="row align-items-center">
                                    <div class="col-sm-3">
                                        <label>DNI</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <input class="form-control border-0"th:value="${productor.dni}" readonly>
                                    </div>
                                </div>
                                <hr>
                                <a th:href='@{/perfil/changePassword}' class='a-card'>
                                    <div class="row align-items-center">
                                        <div class="col-sm-3">
                                            <label>Contraseña</label>
                                        </div>
                                        <div class="col-sm-8">
                                            
                                            <span class="form-control border-0 a-subrayado" >Cambiar contraseña</span>
                                        </div>
                                        <div class="col-sm-1">
                                            <i class="fa-solid fa-pen"></i>
                                        </div>
                                    </div>
                                </a>
                                <hr>
                                <div  th:replace = "/fragments/msjes-error-exito :: div"></div>
                                <div class="row align-items-center">
                                    <div class="col-sm-3">
                                        <label>Dirección</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <input type="text" class="form-control border-0" name="direccion" th:value="${productor.direccion}">
                                    </div>
                                    <div class="col-sm-1">
                                        <i class="fa-solid fa-pen"></i>
                                    </div>
                                </div>
                                <hr>
                                <div class="row align-items-center">
                                    <div class="col-sm-3">
                                        <label>Fecha de alta</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <input  class="form-control border-0"  th:value="${productor.fechaAlta}" readonly>
                                    </div>
                                </div>
                                <hr>
                                <div class="row align-items-center">
                                    <div class="col-sm-3">
                                        <label>Estado de cuenta</label>
                                    </div>
                                    <div class="col-sm-9" th:if='${productor.altaBaja == true}'>
                                        <input class="form-control border-0 text-success fw-bold"  value="Activo" readonly>
                                    </div>
                                    <div class="col-sm-9" th:if='${productor.altaBaja == false}'>
                                        <input class="form-control border-0 text-danger fw-bold"  value="Inactivo" readonly>
                                    </div>
                                </div>
                                <hr>
                                
                                <div class="mb-3 d-flex justify-content-center">
                                    <button type="submit" class="btn btn-primary ">Guardar cambios</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </section>
    </body>


    <!-- JS Boostrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>

    <!-- Mensajes para el formulario -->
    <script th:src="@{/js/mensajeFormulario.js}"/></script>
    <script src="/js/eventos.js" type="text/javaScript"></script>

    <script th:src="@{/js/previewArchivoForm.js}"/></script>
    
</html>